<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Resampling • mlr</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<script src="../extra.js"></script><meta property="og:title" content="Resampling">
<meta property="og:description" content="">
<meta property="og:image" content="https://mlr-org.github.io/mlr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
<link rel="icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
<link rel="apple-touch-icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html"></a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/mlr.html">Get Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/task.html">Tasks</a>
    </li>
    <li>
      <a href="../articles/learner.html">Learners</a>
    </li>
    <li>
      <a href="../articles/train.html">Train</a>
    </li>
    <li>
      <a href="../articles/predict.html">Predict</a>
    </li>
    <li>
      <a href="../articles/preproc.html">Preprocessing</a>
    </li>
    <li>
      <a href="../articles/performance.html">Performance</a>
    </li>
    <li>
      <a href="../articles/resample.html">Resampling</a>
    </li>
    <li>
      <a href="../articles/tune.html">Tuning</a>
    </li>
    <li>
      <a href="../articles/benchmark_experiments.html">Benchmark Experiments</a>
    </li>
    <li>
      <a href="../articles/parallelization.html">Parallelization</a>
    </li>
    <li>
      <a href="../articles/visualization.html">Visualization</a>
    </li>
    <li>
      <a href="../articles/usecase_regression.html">Use case - Regression</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/configureMlr.html">Configuration</a>
    </li>
    <li>
      <a href="../articles/wrapper.html">Wrapped Learners</a>
    </li>
    <li>
      <a href="../articles/impute.html">Imputation</a>
    </li>
    <li>
      <a href="../articles/bagging.html">Generic Bagging</a>
    </li>
    <li>
      <a href="../articles/advanced_tune.html">Advanced Tuning</a>
    </li>
    <li>
      <a href="../articles/feature_selection.html">Feature Selection</a>
    </li>
    <li>
      <a href="../articles/nested_resampling.html">Nested Resampling</a>
    </li>
    <li>
      <a href="../articles/cost_sensitive_classif.html">Cost-Sensitive Classification</a>
    </li>
    <li>
      <a href="../articles/over_and_undersampling.html">Imbalanced Classification Problems</a>
    </li>
    <li>
      <a href="../articles/roc_analysis.html">ROC Analysis and Performance Curves</a>
    </li>
    <li>
      <a href="../articles/multilabel.html">Multilabel Classification</a>
    </li>
    <li>
      <a href="../articles/learning_curve.html">Learning Curve Analysis</a>
    </li>
    <li>
      <a href="../articles/partial_dependence.html">Partial Dependence Plots</a>
    </li>
    <li>
      <a href="../articles/classifier_calibration.html">Classifier Calibration</a>
    </li>
    <li>
      <a href="../articles/hyperpar_tuning_effects.html">Hyperparameter Tuning Effects</a>
    </li>
    <li>
      <a href="../articles/out_of_bag_predictions.html">Out-of-Bag Predictions</a>
    </li>
    <li>
      <a href="../articles/handling_of_spatial_data.html">Handling of Spatial Data</a>
    </li>
    <li>
      <a href="../articles/functional_data.html">Functional Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Extending
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/create_learner.html">Create Custom Learners</a>
    </li>
    <li>
      <a href="../articles/create_measure.html">Create Custom Measures</a>
    </li>
    <li>
      <a href="../articles/create_imputation.html">Create Imputation Methods</a>
    </li>
    <li>
      <a href="../articles/create_filter.html">Create Custom Filters</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Appendix
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Function Reference</a>
    </li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
    <li>
      <a href="../articles/example_tasks.html">Example Tasks</a>
    </li>
    <li>
      <a href="../articles/integrated_learners.html">Integrated Learners</a>
    </li>
    <li>
      <a href="../articles/measures.html">Implemented Measures</a>
    </li>
    <li>
      <a href="../articles/filter_methods.html">Integrated Filter Methods</a>
    </li>
    <li>
      <a href="../articles/mlr_publications.html">mlr Publications</a>
    </li>
    <li>
      <a href="../articles/talks_videos_workshops.html">Talks, Videos and Workshops</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    mlr-org Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://github.com/mlr-org/mlrMBO">mlrMBO</a>
    </li>
    <li>
      <a href="https://github.com/mlr-org/mlrng">mlrng</a>
    </li>
    <li>
      <a href="https://github.com/mlr-org/mlrCPO">mlrCPO</a>
    </li>
    <li>
      <a href="https://github.com/mlr-org/shinyMlr">shinyMlr</a>
    </li>
    <li>
      <a href="http://jakob-r.de/mlrHyperopt/index.html">mlrHyperopt</a>
    </li>
    <li>
      <a href="http://openml.github.io/openml-r/vignettes/OpenML.html">OpenML</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlr-org/mlr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fa fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fa fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.github.io">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Resampling</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mlr-org/mlr/blob/master/vignettes/resample.Rmd"><code>vignettes/resample.Rmd</code></a></small>
      <div class="hidden name"><code>resample.Rmd</code></div>

    </div>

    
    
<p>Resampling strategies are usually used to assess the performance of a learning algorithm: The entire data set is (repeatedly) split into training sets <span class="math inline">\(D^{*b}\)</span> and test sets <span class="math inline">\(D \setminus D^{*b}\)</span>, <span class="math inline">\(b = 1,\ldots,B\)</span>. The learner is trained on each training set, predictions are made on the corresponding test set (sometimes on the training set as well) and the performance measure <span class="math inline">\(S(D^{*b}, D \setminus D^{*b})\)</span> is calculated. Then the <span class="math inline">\(B\)</span> individual performance values are aggregated, most often by calculating the mean. There exist various different resampling strategies, for example cross-validation and bootstrap, to mention just two popular approaches.</p>
<div class="figure" style="text-align: center">
<img src="https://raw.githubusercontent.com/pat-s/mlr/master/vignettes/tutorial/devel/pdf/img/resampling.png" alt="Resampling Figure" width="600px"><p class="caption">
Resampling Figure
</p>
</div>
<p>If you want to read up on further details, the paper <a href="http://link.springer.com/chapter/10.1007%2F978-0-387-47509-7_8">Resampling Strategies for Model Assessment and Selection</a> by Simon is probably not a bad choice. Bernd has also published a paper <a href="http://www.mitpressjournals.org/doi/pdf/10.1162/EVCO_a_00069">Resampling methods for meta-model validation with recommendations for evolutionary computation</a> which contains detailed descriptions and lots of statistical background information on resampling methods.</p>
<div id="defining-the-resampling-strategy" class="section level1">
<h1 class="hasAnchor">
<a href="#defining-the-resampling-strategy" class="anchor"></a>Defining the resampling strategy</h1>
<p>In <code>mlr</code> the resampling strategy can be defined via function <code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>. It requires a string that specifies the resampling method and, depending on the selected strategy, further information like the number of iterations. The supported resampling strategies are:</p>
<ul>
<li>Cross-validation (<code>"CV"</code>),</li>
<li>Leave-one-out cross-validation (<code>"LOO"</code>),</li>
<li>Repeated cross-validation (<code>"RepCV"</code>),</li>
<li>Out-of-bag bootstrap and other variants like <em>b632</em> (<code>"Bootstrap"</code>),</li>
<li>Subsampling, also called Monte-Carlo cross-validation (<code>"Subsample"</code>),</li>
<li>Holdout (training/test) (<code>"Holdout"</code>).</li>
</ul>
<p>For example if you want to use 3-fold cross-validation type:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">### 3-fold cross-validation</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">rdesc</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">## Resample description: cross-validation with 3 iterations.</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">## Predict: test</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">## Stratification: FALSE</a></code></pre></div>
<p>For holdout estimation use:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">### Holdout estimation</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Holdout"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">rdesc</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">## Resample description: holdout with 0.67 split rate.</a>
<a class="sourceLine" id="cb2-5" data-line-number="5">## Predict: test</a>
<a class="sourceLine" id="cb2-6" data-line-number="6">## Stratification: FALSE</a></code></pre></div>
<p>In order to save you some typing <code>mlr</code> contains some pre-defined resample descriptions for very common strategies like holdout (<code>hout</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>)) as well as cross-validation with different numbers of folds (e.g., <code>cv5</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) or <code>cv10</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>)).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">hout</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">## Resample description: holdout with 0.67 split rate.</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">## Predict: test</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">## Stratification: FALSE</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">cv3</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">## Resample description: cross-validation with 3 iterations.</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">## Predict: test</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">## Stratification: FALSE</a></code></pre></div>
</div>
<div id="performing-the-resampling" class="section level1">
<h1 class="hasAnchor">
<a href="#performing-the-resampling" class="anchor"></a>Performing the resampling</h1>
<p>Function <code><a href="../reference/resample.html">resample()</a></code> evaluates a Learner (<code><a href="../reference/makeLearner.html">makeLearner()</a></code>) on a given machine learning <code><a href="../reference/Task.html">Task()</a></code> using the selected resampling strategy (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>).</p>
<p>As a first example, the performance of linear regression (<code><a href="http://www.rdocumentation.org/packages/stats/topics/lm">stats::lm()</a></code>) on the <code>BostonHousing</code> (<code><a href="http://www.rdocumentation.org/packages/mlbench/topics/BostonHousing">mlbench::BostonHousing()</a></code>) data set is calculated using <em>3-fold cross-validation</em>.</p>
<p>Generally, for <em><span class="math inline">\(K\)</span>-fold cross-validation</em> the data set <span class="math inline">\(D\)</span> is partitioned into <span class="math inline">\(K\)</span> subsets of (approximately) equal size. In the <span class="math inline">\(b\)</span>-th of the <span class="math inline">\(K\)</span> iterations, the <span class="math inline">\(b\)</span>-th subset is used for testing, while the union of the remaining parts forms the training set.</p>
<p>As usual, you can either pass a Learner (<code><a href="../reference/makeLearner.html">makeLearner()</a></code>) object to <code><a href="../reference/resample.html">resample()</a></code> or, as done here, provide the class name <code>"regr.lm"</code> of the learner. Since no performance measure is specified the default for regression learners (mean squared error, <a href="measures.html" target="_blank">mse</a>) is calculated.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">### Specify the resampling strategy (3-fold cross-validation)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">### Calculate the performance</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"regr.lm"</span>, bh.task, rdesc)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">## Resampling: cross-validation</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">## Measures:             mse</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">## [Resample] iter 1:    24.2901202</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">## [Resample] iter 2:    25.9990924</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">## [Resample] iter 3:    20.2147826</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">## </a>
<a class="sourceLine" id="cb4-12" data-line-number="12">## Aggregated Result: mse.test.mean=23.5013317</a>
<a class="sourceLine" id="cb4-13" data-line-number="13">## </a>
<a class="sourceLine" id="cb4-14" data-line-number="14">r</a>
<a class="sourceLine" id="cb4-15" data-line-number="15">## Resample Result</a>
<a class="sourceLine" id="cb4-16" data-line-number="16">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb4-17" data-line-number="17">## Learner: regr.lm</a>
<a class="sourceLine" id="cb4-18" data-line-number="18">## Aggr perf: mse.test.mean=23.5013317</a>
<a class="sourceLine" id="cb4-19" data-line-number="19">## Runtime: 0.0343857</a></code></pre></div>
<p>The result <code>r</code> is an object of class <code><a href="../reference/resample.html">resample()</a></code> result. It contains performance results for the learner and some additional information like the runtime, predicted values, and optionally the models fitted in single resampling iterations.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">### Peak into r</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw">names</span>(r)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">##  [1] "learner.id"     "task.id"        "task.desc"      "measures.train"</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">##  [5] "measures.test"  "aggr"           "pred"           "models"        </a>
<a class="sourceLine" id="cb5-5" data-line-number="5">##  [9] "err.msgs"       "err.dumps"      "extract"        "runtime"</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">r<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">## mse.test.mean </a>
<a class="sourceLine" id="cb5-8" data-line-number="8">##      23.50133</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">r<span class="op">$</span>measures.test</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">##   iter      mse</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">## 1    1 24.29012</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">## 2    2 25.99909</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">## 3    3 20.21478</a></code></pre></div>
<p><code>r$measures.test</code> gives the performance on each of the 3 test data sets. <code>r$aggr</code> shows the aggregated performance value. Its name <code>"mse.test.mean"</code> indicates the performance measure, <a href="measures.html" target="_blank">mse</a>, and the method, <code>test.mean</code> (<code><a href="../reference/aggregations.html">aggregations()</a></code>), used to aggregate the 3 individual performances. <code>test.mean</code> (<code><a href="../reference/aggregations.html">aggregations()</a></code>) is the default aggregation scheme for most performance measures and, as the name implies, takes the mean over the performances on the test data sets.</p>
<p>Resampling in <code>mlr</code> works the same way for all types of learning problems and learners. Below is a classification example where a classification tree (rpart) (<code><a href="http://www.rdocumentation.org/packages/rpart/topics/rpart">rpart::rpart()</a></code>) is evaluated on the <code>Sonar</code> (<code>mlbench::sonar()</code>) data set by subsampling with 5 iterations.</p>
<p>In each subsampling iteration the data set <span class="math inline">\(D\)</span> is randomly partitioned into a training and a test set according to a given percentage, e.g., 2/3 training and 1/3 test set. If there is just one iteration, the strategy is commonly called <em>holdout</em> or <em>test sample estimation</em>.</p>
<p>You can calculate several measures at once by passing a <code>list</code> of Measures (<code><a href="../reference/makeMeasure.html">makeMeasure()</a></code>)s to <code><a href="../reference/resample.html">resample()</a></code>. Below, the error rate (<a href="measures.html" target="_blank">mmce</a>), false positive and false negative rates (<a href="measures.html" target="_blank">fpr</a>, <a href="measures.html" target="_blank">fnr</a>), and the time it takes to train the learner (<a href="measures.html" target="_blank">timetrain</a>) are estimated by <em>subsampling</em> with 5 iterations.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">### Subsampling with 5 iterations and default split ratio 2/3</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Subsample"</span>, <span class="dt">iters =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">### Subsampling with 5 iterations and 4/5 training data</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Subsample"</span>, <span class="dt">iters =</span> <span class="dv">5</span>, <span class="dt">split =</span> <span class="dv">4</span><span class="op">/</span><span class="dv">5</span>)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">### Classification tree with information splitting criterion</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">lrn =<span class="st"> </span><span class="kw"><a href="../reference/makeLearner.html">makeLearner</a></span>(<span class="st">"classif.rpart"</span>, <span class="dt">parms =</span> <span class="kw">list</span>(<span class="dt">split =</span> <span class="st">"information"</span>))</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">### Calculate the performance measures</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(lrn, sonar.task, rdesc, <span class="dt">measures =</span> <span class="kw">list</span>(mmce, fpr, fnr, timetrain))</a>
<a class="sourceLine" id="cb6-12" data-line-number="12">## Resampling: subsampling</a>
<a class="sourceLine" id="cb6-13" data-line-number="13">## Measures:             mmce        fpr         fnr         timetrain</a>
<a class="sourceLine" id="cb6-14" data-line-number="14">## [Resample] iter 1:    0.3571429   0.3043478   0.4210526   0.0170000</a>
<a class="sourceLine" id="cb6-15" data-line-number="15">## [Resample] iter 2:    0.2142857   0.3157895   0.1304348   0.0140000</a>
<a class="sourceLine" id="cb6-16" data-line-number="16">## [Resample] iter 3:    0.3571429   0.4117647   0.3200000   0.0140000</a>
<a class="sourceLine" id="cb6-17" data-line-number="17">## [Resample] iter 4:    0.3333333   0.2727273   0.4000000   0.0140000</a>
<a class="sourceLine" id="cb6-18" data-line-number="18">## [Resample] iter 5:    0.3333333   0.1764706   0.4400000   0.0180000</a>
<a class="sourceLine" id="cb6-19" data-line-number="19">## </a>
<a class="sourceLine" id="cb6-20" data-line-number="20">## Aggregated Result: mmce.test.mean=0.3190476,fpr.test.mean=0.2962200,fnr.test.mean=0.3422975,timetrain.test.mean=0.0154000</a>
<a class="sourceLine" id="cb6-21" data-line-number="21">## </a>
<a class="sourceLine" id="cb6-22" data-line-number="22">r</a>
<a class="sourceLine" id="cb6-23" data-line-number="23">## Resample Result</a>
<a class="sourceLine" id="cb6-24" data-line-number="24">## Task: Sonar-example</a>
<a class="sourceLine" id="cb6-25" data-line-number="25">## Learner: classif.rpart</a>
<a class="sourceLine" id="cb6-26" data-line-number="26">## Aggr perf: mmce.test.mean=0.3190476,fpr.test.mean=0.2962200,fnr.test.mean=0.3422975,timetrain.test.mean=0.0154000</a>
<a class="sourceLine" id="cb6-27" data-line-number="27">## Runtime: 0.126987</a></code></pre></div>
<p>If you want to add further measures afterwards, use <code><a href="../reference/addRRMeasure.html">addRRMeasure()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">### Add balanced error rate (ber) and time used to predict</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="../reference/addRRMeasure.html">addRRMeasure</a></span>(r, <span class="kw">list</span>(ber, timepredict))</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">## Resample Result</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">## Task: Sonar-example</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">## Learner: classif.rpart</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">## Aggr perf: mmce.test.mean=0.3190476,fpr.test.mean=0.2962200,fnr.test.mean=0.3422975,timetrain.test.mean=0.0154000,ber.test.mean=0.3192587,timepredict.test.mean=0.0040000</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">## Runtime: 0.126987</a></code></pre></div>
<p>By default, <code><a href="../reference/resample.html">resample()</a></code> prints progress messages and intermediate results. You can turn this off by setting <code>show.info = FALSE</code>, as done in the code chunk below. (If you are interested in suppressing these messages permanently have a look at the tutorial page about <a href="configureMlr.html" target="_blank">configuring mlr</a>.)</p>
<p>In the above example, the Learner (<code><a href="../reference/makeLearner.html">makeLearner()</a></code>) was explicitly constructed. For convenience you can also specify the learner as a string and pass any learner parameters via the <code>...</code> argument of <code><a href="../reference/resample.html">resample()</a></code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.rpart"</span>, <span class="dt">parms =</span> <span class="kw">list</span>(<span class="dt">split =</span> <span class="st">"information"</span>), sonar.task, rdesc,</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="dt">measures =</span> <span class="kw">list</span>(mmce, fpr, fnr, timetrain), <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">r</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">## Resample Result</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">## Task: Sonar-example</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">## Learner: classif.rpart</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">## Aggr perf: mmce.test.mean=0.2904762,fpr.test.mean=0.2821637,fnr.test.mean=0.2913322,timetrain.test.mean=0.0152000</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">## Runtime: 0.120329</a></code></pre></div>
</div>
<div id="accessing-resample-results" class="section level1">
<h1 class="hasAnchor">
<a href="#accessing-resample-results" class="anchor"></a>Accessing resample results</h1>
<p>Apart from the learner performance you can extract further information from the resample results, for example predicted values or the models fitted in individual resample iterations.</p>
<div id="predictions" class="section level2">
<h2 class="hasAnchor">
<a href="#predictions" class="anchor"></a>Predictions</h2>
<p>Per default, the <code><a href="../reference/resample.html">resample()</a></code> result contains the predictions made during the resampling. If you do not want to keep them, e.g., in order to conserve memory, set <code>keep.pred = FALSE</code> when calling <code><a href="../reference/resample.html">resample()</a></code>.</p>
<p>The predictions are stored in slot <code>$pred</code> of the resampling result, which can also be accessed by function <code><a href="../reference/getRRPredictions.html">getRRPredictions()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">r<span class="op">$</span>pred</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">## Resampled Prediction for:</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">## Resample description: subsampling with 5 iterations and 0.80 split rate.</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">## Predict: test</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">## Stratification: FALSE</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">## predict.type: response</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">## threshold: </a>
<a class="sourceLine" id="cb9-8" data-line-number="8">## time (mean): 0.00</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">##    id truth response iter  set</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">## 1  22     R        R    1 test</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">## 2  50     R        R    1 test</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">## 3 149     M        M    1 test</a>
<a class="sourceLine" id="cb9-13" data-line-number="13">## 4  35     R        M    1 test</a>
<a class="sourceLine" id="cb9-14" data-line-number="14">## 5  93     R        R    1 test</a>
<a class="sourceLine" id="cb9-15" data-line-number="15">## 6 166     M        M    1 test</a>
<a class="sourceLine" id="cb9-16" data-line-number="16">## ... (#rows: 210, #cols: 5)</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">pred =<span class="st"> </span><span class="kw"><a href="../reference/getRRPredictions.html">getRRPredictions</a></span>(r)</a>
<a class="sourceLine" id="cb9-18" data-line-number="18">pred</a>
<a class="sourceLine" id="cb9-19" data-line-number="19">## Resampled Prediction for:</a>
<a class="sourceLine" id="cb9-20" data-line-number="20">## Resample description: subsampling with 5 iterations and 0.80 split rate.</a>
<a class="sourceLine" id="cb9-21" data-line-number="21">## Predict: test</a>
<a class="sourceLine" id="cb9-22" data-line-number="22">## Stratification: FALSE</a>
<a class="sourceLine" id="cb9-23" data-line-number="23">## predict.type: response</a>
<a class="sourceLine" id="cb9-24" data-line-number="24">## threshold: </a>
<a class="sourceLine" id="cb9-25" data-line-number="25">## time (mean): 0.00</a>
<a class="sourceLine" id="cb9-26" data-line-number="26">##    id truth response iter  set</a>
<a class="sourceLine" id="cb9-27" data-line-number="27">## 1  22     R        R    1 test</a>
<a class="sourceLine" id="cb9-28" data-line-number="28">## 2  50     R        R    1 test</a>
<a class="sourceLine" id="cb9-29" data-line-number="29">## 3 149     M        M    1 test</a>
<a class="sourceLine" id="cb9-30" data-line-number="30">## 4  35     R        M    1 test</a>
<a class="sourceLine" id="cb9-31" data-line-number="31">## 5  93     R        R    1 test</a>
<a class="sourceLine" id="cb9-32" data-line-number="32">## 6 166     M        M    1 test</a>
<a class="sourceLine" id="cb9-33" data-line-number="33">## ... (#rows: 210, #cols: 5)</a></code></pre></div>
<p><code>pred</code> is an object of class <code><a href="../reference/resample.html">resample()</a></code> Prediction. Just as a <code><a href="../reference/Prediction.html">Prediction()</a></code> object (see the tutorial page on making <a href="predict.html" target="_blank">predictions</a> it has an element <code>$data</code> which is a <code>data.frame</code> that contains the predictions and in the case of a supervised learning problem the true values of the target variable(s). You can use <code>as.data.frame</code> (<code><a href="../reference/Prediction.html">Prediction()</a></code> to directly access the <code>$data</code> slot. Moreover, all getter functions for <code><a href="../reference/Prediction.html">Prediction()</a></code> objects like <code><a href="../reference/getPredictionResponse.html">getPredictionResponse()</a></code> or <code><a href="../reference/getPredictionProbabilities.html">getPredictionProbabilities()</a></code> are applicable.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">head</span>(<span class="kw">as.data.frame</span>(pred))</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">##    id truth response iter  set</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">## 1  22     R        R    1 test</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">## 2  50     R        R    1 test</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">## 3 149     M        M    1 test</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">## 4  35     R        M    1 test</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">## 5  93     R        R    1 test</a>
<a class="sourceLine" id="cb10-8" data-line-number="8">## 6 166     M        M    1 test</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="kw">head</span>(<span class="kw"><a href="../reference/getPredictionResponse.html">getPredictionTruth</a></span>(pred))</a>
<a class="sourceLine" id="cb10-10" data-line-number="10">## [1] R R M R R M</a>
<a class="sourceLine" id="cb10-11" data-line-number="11">## Levels: M R</a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="kw">head</span>(<span class="kw"><a href="../reference/getPredictionResponse.html">getPredictionResponse</a></span>(pred))</a>
<a class="sourceLine" id="cb10-13" data-line-number="13">## [1] R R M M R M</a>
<a class="sourceLine" id="cb10-14" data-line-number="14">## Levels: M R</a></code></pre></div>
<p>The columns <code>iter</code> and <code>set</code> in the <code>data.frame</code> indicate the resampling iteration and the data set (<code>train</code> or <code>test</code>) for which the prediction was made.</p>
<p>By default, predictions are made for the test sets only. If predictions for the training set are required, set <code>predict = "train"</code> (for predictions on the train set only) or <code>predict = "both"</code> (for predictions on both train and test sets) in <code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>. In any case, this is necessary for some bootstrap methods (<em>b632</em> and <em>b632+</em>) and some examples are shown later on.</p>
<p>Below, we use simple Holdout, i.e., split the data once into a training and test set, as resampling strategy and make predictions on both sets.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">### Make predictions on both training and test sets</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Holdout"</span>, <span class="dt">predict =</span> <span class="st">"both"</span>)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"></a>
<a class="sourceLine" id="cb11-4" data-line-number="4">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.lda"</span>, iris.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">r</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">## Resample Result</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">## Task: iris-example</a>
<a class="sourceLine" id="cb11-8" data-line-number="8">## Learner: classif.lda</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">## Aggr perf: mmce.test.mean=0.0200000</a>
<a class="sourceLine" id="cb11-10" data-line-number="10">## Runtime: 0.012027</a>
<a class="sourceLine" id="cb11-11" data-line-number="11">r<span class="op">$</span>measures.train</a>
<a class="sourceLine" id="cb11-12" data-line-number="12">##   iter mmce</a>
<a class="sourceLine" id="cb11-13" data-line-number="13">## 1    1 0.01</a></code></pre></div>
<p>(Please note that nonetheless the misclassification rate <code>r$aggr</code> is estimated on the test data only. How to calculate performance measures on the training sets is shown below.)</p>
<p>A second function to extract predictions from resample results is <code><a href="../reference/getRRPredictionList.html">getRRPredictionList()</a></code> which returns a <code>list</code> of predictions split by data set (train/test) and resampling iteration.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">predList =<span class="st"> </span><span class="kw"><a href="../reference/getRRPredictionList.html">getRRPredictionList</a></span>(r)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">predList</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">## $train</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">## $train$`1`</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">## Prediction: 100 observations</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">## predict.type: response</a>
<a class="sourceLine" id="cb12-7" data-line-number="7">## threshold: </a>
<a class="sourceLine" id="cb12-8" data-line-number="8">## time: 0.00</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">##      id      truth   response</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">## 29   29     setosa     setosa</a>
<a class="sourceLine" id="cb12-11" data-line-number="11">## 87   87 versicolor versicolor</a>
<a class="sourceLine" id="cb12-12" data-line-number="12">## 48   48     setosa     setosa</a>
<a class="sourceLine" id="cb12-13" data-line-number="13">## 106 106  virginica  virginica</a>
<a class="sourceLine" id="cb12-14" data-line-number="14">## 73   73 versicolor versicolor</a>
<a class="sourceLine" id="cb12-15" data-line-number="15">## 114 114  virginica  virginica</a>
<a class="sourceLine" id="cb12-16" data-line-number="16">## ... (#rows: 100, #cols: 3)</a>
<a class="sourceLine" id="cb12-17" data-line-number="17">## </a>
<a class="sourceLine" id="cb12-18" data-line-number="18">## </a>
<a class="sourceLine" id="cb12-19" data-line-number="19">## $test</a>
<a class="sourceLine" id="cb12-20" data-line-number="20">## $test$`1`</a>
<a class="sourceLine" id="cb12-21" data-line-number="21">## Prediction: 50 observations</a>
<a class="sourceLine" id="cb12-22" data-line-number="22">## predict.type: response</a>
<a class="sourceLine" id="cb12-23" data-line-number="23">## threshold: </a>
<a class="sourceLine" id="cb12-24" data-line-number="24">## time: 0.00</a>
<a class="sourceLine" id="cb12-25" data-line-number="25">##      id      truth   response</a>
<a class="sourceLine" id="cb12-26" data-line-number="26">## 82   82 versicolor versicolor</a>
<a class="sourceLine" id="cb12-27" data-line-number="27">## 8     8     setosa     setosa</a>
<a class="sourceLine" id="cb12-28" data-line-number="28">## 37   37     setosa     setosa</a>
<a class="sourceLine" id="cb12-29" data-line-number="29">## 104 104  virginica  virginica</a>
<a class="sourceLine" id="cb12-30" data-line-number="30">## 121 121  virginica  virginica</a>
<a class="sourceLine" id="cb12-31" data-line-number="31">## 46   46     setosa     setosa</a>
<a class="sourceLine" id="cb12-32" data-line-number="32">## ... (#rows: 50, #cols: 3)</a></code></pre></div>
</div>
<div id="learner-models" class="section level2">
<h2 class="hasAnchor">
<a href="#learner-models" class="anchor"></a>Learner models</h2>
<p>In each resampling iteration a Learner (<code><a href="../reference/makeLearner.html">makeLearner()</a></code>) is fitted on the respective training set. By default, the resulting <code>WrappedModel</code> (<code><a href="../reference/makeWrappedModel.html">makeWrappedModel()</a></code>)s are not included in the <code><a href="../reference/resample.html">resample()</a></code> result and slot <code>$models</code> is empty. In order to keep them, set <code>models = TRUE</code> when calling <code><a href="../reference/resample.html">resample()</a></code>, as in the following survival analysis example.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">### 3-fold cross-validation</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"surv.coxph"</span>, lung.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>, <span class="dt">models =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">r<span class="op">$</span>models</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">## [[1]]</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">## Model for learner.id=surv.coxph; learner.class=surv.coxph</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">## Trained on: task.id = lung-example; obs = 111; features = 8</a>
<a class="sourceLine" id="cb13-9" data-line-number="9">## Hyperparameters: </a>
<a class="sourceLine" id="cb13-10" data-line-number="10">## </a>
<a class="sourceLine" id="cb13-11" data-line-number="11">## [[2]]</a>
<a class="sourceLine" id="cb13-12" data-line-number="12">## Model for learner.id=surv.coxph; learner.class=surv.coxph</a>
<a class="sourceLine" id="cb13-13" data-line-number="13">## Trained on: task.id = lung-example; obs = 111; features = 8</a>
<a class="sourceLine" id="cb13-14" data-line-number="14">## Hyperparameters: </a>
<a class="sourceLine" id="cb13-15" data-line-number="15">## </a>
<a class="sourceLine" id="cb13-16" data-line-number="16">## [[3]]</a>
<a class="sourceLine" id="cb13-17" data-line-number="17">## Model for learner.id=surv.coxph; learner.class=surv.coxph</a>
<a class="sourceLine" id="cb13-18" data-line-number="18">## Trained on: task.id = lung-example; obs = 112; features = 8</a>
<a class="sourceLine" id="cb13-19" data-line-number="19">## Hyperparameters:</a></code></pre></div>
</div>
<div id="the-extract-option" class="section level2">
<h2 class="hasAnchor">
<a href="#the-extract-option" class="anchor"></a>The extract option</h2>
<p>Keeping complete fitted models can be memory-intensive if these objects are large or the number of resampling iterations is high. Alternatively, you can use the <code>extract</code> argument of <code><a href="../reference/resample.html">resample()</a></code> to retain only the information you need. To this end you need to pass a function to <code>extract</code> which is applied to each <code>WrappedModel</code> (<code><a href="../reference/makeWrappedModel.html">makeWrappedModel()</a></code>) object fitted in each resampling iteration.</p>
<p>Below, we cluster the <code><a href="http://www.rdocumentation.org/packages/datasets/topics/mtcars">datasets::mtcars()</a></code> data using the <span class="math inline">\(k\)</span>-means algorithm with <span class="math inline">\(k = 3\)</span> and keep only the cluster centers.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">### 3-fold cross-validation</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3"></a>
<a class="sourceLine" id="cb14-4" data-line-number="4">### Extract the compute cluster centers</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"cluster.kmeans"</span>, mtcars.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">  <span class="dt">centers =</span> <span class="dv">3</span>, <span class="dt">extract =</span> <span class="cf">function</span>(x) <span class="kw"><a href="../reference/getLearnerModel.html">getLearnerModel</a></span>(x)<span class="op">$</span>centers)</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">## Warning in rgl.init(initValue, onlyNULL): RGL: unable to open X11 display</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">## Warning: 'rgl_init' failed, running with rgl.useNULL = TRUE</a>
<a class="sourceLine" id="cb14-9" data-line-number="9">## </a>
<a class="sourceLine" id="cb14-10" data-line-number="10">## This is package 'modeest' written by P. PONCET.</a>
<a class="sourceLine" id="cb14-11" data-line-number="11">## For a complete list of functions, use 'library(help = "modeest")' or 'help.start()'.</a>
<a class="sourceLine" id="cb14-12" data-line-number="12">r<span class="op">$</span>extract</a>
<a class="sourceLine" id="cb14-13" data-line-number="13">## [[1]]</a>
<a class="sourceLine" id="cb14-14" data-line-number="14">##        mpg      cyl     disp       hp     drat       wt     qsec        vs</a>
<a class="sourceLine" id="cb14-15" data-line-number="15">## 1 22.28889 4.666667 135.7667 104.6667 3.902222 2.701111 18.42222 0.5555556</a>
<a class="sourceLine" id="cb14-16" data-line-number="16">## 2 15.76364 8.000000 341.9455 203.0909 3.212727 3.939000 16.87091 0.0000000</a>
<a class="sourceLine" id="cb14-17" data-line-number="17">## 3 28.85000 4.000000  77.3500  59.0000 4.505000 1.775000 18.71000 1.0000000</a>
<a class="sourceLine" id="cb14-18" data-line-number="18">##          am     gear     carb</a>
<a class="sourceLine" id="cb14-19" data-line-number="19">## 1 0.6666667 4.111111 2.666667</a>
<a class="sourceLine" id="cb14-20" data-line-number="20">## 2 0.1818182 3.363636 3.363636</a>
<a class="sourceLine" id="cb14-21" data-line-number="21">## 3 1.0000000 4.000000 1.500000</a>
<a class="sourceLine" id="cb14-22" data-line-number="22">## </a>
<a class="sourceLine" id="cb14-23" data-line-number="23">## [[2]]</a>
<a class="sourceLine" id="cb14-24" data-line-number="24">##        mpg      cyl  disp        hp     drat       wt     qsec        vs</a>
<a class="sourceLine" id="cb14-25" data-line-number="25">## 1 14.28000 8.000000 396.4 220.00000 3.250000 4.289000 16.73400 0.0000000</a>
<a class="sourceLine" id="cb14-26" data-line-number="26">## 2 25.80909 4.181818 112.8  87.90909 3.977273 2.400273 19.00091 0.8181818</a>
<a class="sourceLine" id="cb14-27" data-line-number="27">## 3 18.34000 6.400000 218.8 128.20000 3.350000 3.467000 18.97200 0.8000000</a>
<a class="sourceLine" id="cb14-28" data-line-number="28">##          am     gear     carb</a>
<a class="sourceLine" id="cb14-29" data-line-number="29">## 1 0.0000000 3.000000 3.600000</a>
<a class="sourceLine" id="cb14-30" data-line-number="30">## 2 0.7272727 4.090909 1.727273</a>
<a class="sourceLine" id="cb14-31" data-line-number="31">## 3 0.0000000 3.400000 2.600000</a>
<a class="sourceLine" id="cb14-32" data-line-number="32">## </a>
<a class="sourceLine" id="cb14-33" data-line-number="33">## [[3]]</a>
<a class="sourceLine" id="cb14-34" data-line-number="34">##        mpg cyl   disp       hp     drat       wt     qsec        vs</a>
<a class="sourceLine" id="cb14-35" data-line-number="35">## 1 31.77500   4  80.15  74.0000 4.250000 1.790750 18.69750 1.0000000</a>
<a class="sourceLine" id="cb14-36" data-line-number="36">## 2 19.53333   6 187.20 124.3333 3.533333 3.157500 18.13667 0.6666667</a>
<a class="sourceLine" id="cb14-37" data-line-number="37">## 3 14.80000   8 351.60 213.0909 3.250909 3.947636 16.57909 0.0000000</a>
<a class="sourceLine" id="cb14-38" data-line-number="38">##          am     gear     carb</a>
<a class="sourceLine" id="cb14-39" data-line-number="39">## 1 1.0000000 4.250000 1.500000</a>
<a class="sourceLine" id="cb14-40" data-line-number="40">## 2 0.3333333 3.833333 3.333333</a>
<a class="sourceLine" id="cb14-41" data-line-number="41">## 3 0.1818182 3.363636 3.636364</a></code></pre></div>
<p>As a second example, we extract the variable importances from fitted regression trees using function <code><a href="../reference/getFeatureImportance.html">getFeatureImportance()</a></code>. (For more detailed information on this topic see the <a href="feature_selection.html" target="_blank">feature selection</a> page.)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">### Extract the variable importance in a regression tree</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"regr.rpart"</span>, bh.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>, <span class="dt">extract =</span> getFeatureImportance)</a>
<a class="sourceLine" id="cb15-3" data-line-number="3">r<span class="op">$</span>extract</a>
<a class="sourceLine" id="cb15-4" data-line-number="4">## [[1]]</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">## FeatureImportance:</a>
<a class="sourceLine" id="cb15-6" data-line-number="6">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb15-7" data-line-number="7">## </a>
<a class="sourceLine" id="cb15-8" data-line-number="8">## Learner: regr.rpart</a>
<a class="sourceLine" id="cb15-9" data-line-number="9">## Measure: NA</a>
<a class="sourceLine" id="cb15-10" data-line-number="10">## Contrast: NA</a>
<a class="sourceLine" id="cb15-11" data-line-number="11">## Aggregation: function (x)  x</a>
<a class="sourceLine" id="cb15-12" data-line-number="12">## Replace: NA</a>
<a class="sourceLine" id="cb15-13" data-line-number="13">## Number of Monte-Carlo iterations: NA</a>
<a class="sourceLine" id="cb15-14" data-line-number="14">## Local: FALSE</a>
<a class="sourceLine" id="cb15-15" data-line-number="15">##       crim      zn    indus     chas      nox       rm     age      dis</a>
<a class="sourceLine" id="cb15-16" data-line-number="16">## 1 9032.166 86.9653 9908.339 32.20031 10717.46 13990.42 8797.69 2596.417</a>
<a class="sourceLine" id="cb15-17" data-line-number="17">##       rad      tax  ptratio b    lstat</a>
<a class="sourceLine" id="cb15-18" data-line-number="18">## 1 1050.76 966.1785 130.4479 0 16325.09</a>
<a class="sourceLine" id="cb15-19" data-line-number="19">## </a>
<a class="sourceLine" id="cb15-20" data-line-number="20">## [[2]]</a>
<a class="sourceLine" id="cb15-21" data-line-number="21">## FeatureImportance:</a>
<a class="sourceLine" id="cb15-22" data-line-number="22">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb15-23" data-line-number="23">## </a>
<a class="sourceLine" id="cb15-24" data-line-number="24">## Learner: regr.rpart</a>
<a class="sourceLine" id="cb15-25" data-line-number="25">## Measure: NA</a>
<a class="sourceLine" id="cb15-26" data-line-number="26">## Contrast: NA</a>
<a class="sourceLine" id="cb15-27" data-line-number="27">## Aggregation: function (x)  x</a>
<a class="sourceLine" id="cb15-28" data-line-number="28">## Replace: NA</a>
<a class="sourceLine" id="cb15-29" data-line-number="29">## Number of Monte-Carlo iterations: NA</a>
<a class="sourceLine" id="cb15-30" data-line-number="30">## Local: FALSE</a>
<a class="sourceLine" id="cb15-31" data-line-number="31">##       crim       zn    indus     chas      nox       rm     age      dis</a>
<a class="sourceLine" id="cb15-32" data-line-number="32">## 1 2910.862 944.0874 4081.892 331.0643 3184.235 15569.95 2938.12 2561.462</a>
<a class="sourceLine" id="cb15-33" data-line-number="33">##        rad      tax  ptratio b    lstat</a>
<a class="sourceLine" id="cb15-34" data-line-number="34">## 1 476.7472 648.1381 3068.284 0 10689.01</a>
<a class="sourceLine" id="cb15-35" data-line-number="35">## </a>
<a class="sourceLine" id="cb15-36" data-line-number="36">## [[3]]</a>
<a class="sourceLine" id="cb15-37" data-line-number="37">## FeatureImportance:</a>
<a class="sourceLine" id="cb15-38" data-line-number="38">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb15-39" data-line-number="39">## </a>
<a class="sourceLine" id="cb15-40" data-line-number="40">## Learner: regr.rpart</a>
<a class="sourceLine" id="cb15-41" data-line-number="41">## Measure: NA</a>
<a class="sourceLine" id="cb15-42" data-line-number="42">## Contrast: NA</a>
<a class="sourceLine" id="cb15-43" data-line-number="43">## Aggregation: function (x)  x</a>
<a class="sourceLine" id="cb15-44" data-line-number="44">## Replace: NA</a>
<a class="sourceLine" id="cb15-45" data-line-number="45">## Number of Monte-Carlo iterations: NA</a>
<a class="sourceLine" id="cb15-46" data-line-number="46">## Local: FALSE</a>
<a class="sourceLine" id="cb15-47" data-line-number="47">##       crim       zn    indus chas      nox       rm      age      dis</a>
<a class="sourceLine" id="cb15-48" data-line-number="48">## 1 3122.989 4210.704 7746.804    0 4954.071 11207.11 6780.911 2693.255</a>
<a class="sourceLine" id="cb15-49" data-line-number="49">##        rad      tax  ptratio b    lstat</a>
<a class="sourceLine" id="cb15-50" data-line-number="50">## 1 198.6144 2673.133 1426.451 0 19639.09</a></code></pre></div>
<p>There is also an convenience function <code><a href="../reference/getResamplingIndices.html">getResamplingIndices()</a></code> to extract the resampling indices from the <code>ResampleResult</code> object:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw"><a href="../reference/getResamplingIndices.html">getResamplingIndices</a></span>(r)</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">## $train.inds</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">## $train.inds[[1]]</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">##   [1] 227 489 308 231  94 482 426 103 470  10 343 334  60 493 369  57 226</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">##  [18] 312 431 295 160  67 449  12 268 214  56  55 182 253 352 381 375 129</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">##  [35] 199 120  29  88 112 141  58  35 212 131 492 293 239 358 429 463 282</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">##  [52]  52 169 456 229 136  79 359 272 240   4  82 378 474 328 318 299 364</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">##  [69] 410 172 323  39  31 427 281 336 230 179 151 111 481  22 257 266 221</a>
<a class="sourceLine" id="cb16-9" data-line-number="9">##  [86]  61  21  45 393 326 306 140  30 454  85 351 122 289 495 223 441 455</a>
<a class="sourceLine" id="cb16-10" data-line-number="10">## [103] 232  43  97 391 335 330 147 436 203  62 178 152 130  20 190  99 401</a>
<a class="sourceLine" id="cb16-11" data-line-number="11">## [120] 338 496 173 390 376 256 418 458 460 145  33  40   8  68 500 303 284</a>
<a class="sourceLine" id="cb16-12" data-line-number="12">## [137] 367 197 236 144  14 442 408 123 270  53 121   1 473 106 247 139  65</a>
<a class="sourceLine" id="cb16-13" data-line-number="13">## [154] 211 319 405 435  96 126  13 346 283 324 183 302 433 502  93   9 294</a>
<a class="sourceLine" id="cb16-14" data-line-number="14">## [171] 501 196 118 382 424 168  37 184 176 260 462 395 194 370  42 439 200</a>
<a class="sourceLine" id="cb16-15" data-line-number="15">## [188] 331 237 170 363  38 503 149 416 422 353 133 298   3  77  23 127 396</a>
<a class="sourceLine" id="cb16-16" data-line-number="16">## [205] 138 191 286 174 234  48 310 314 159  46 213 187 497 415 218   2 235</a>
<a class="sourceLine" id="cb16-17" data-line-number="17">## [222] 484 245 475 368 210 317 490 246 485 373 274 487 472 238 425  11 219</a>
<a class="sourceLine" id="cb16-18" data-line-number="18">## [239]  84 453  90 355 114 504 505 311 277 465 386  64 345 180  32 333 263</a>
<a class="sourceLine" id="cb16-19" data-line-number="19">## [256] 385 380 275  98 185 432 348 437 288 371 477 445 162 195 329 448 142</a>
<a class="sourceLine" id="cb16-20" data-line-number="20">## [273] 146 434 480 137 109 115 259 304 347 188  27 198 128 117 202 372 388</a>
<a class="sourceLine" id="cb16-21" data-line-number="21">## [290] 258 252 444  92 398 325  71 488 100 153 457  24 242 279 255 228 486</a>
<a class="sourceLine" id="cb16-22" data-line-number="22">## [307] 411  18 204 407  59 251  34  86 365 248 104  28 332 165   5 414 404</a>
<a class="sourceLine" id="cb16-23" data-line-number="23">## [324] 350 110 446 483 349  81 357 354 220 315 305 447 467  17</a>
<a class="sourceLine" id="cb16-24" data-line-number="24">## </a>
<a class="sourceLine" id="cb16-25" data-line-number="25">## $train.inds[[2]]</a>
<a class="sourceLine" id="cb16-26" data-line-number="26">##   [1] 233  78  41 231  94 482 107 343 334 164  51 217 362 207 125 295 160</a>
<a class="sourceLine" id="cb16-27" data-line-number="27">##  [18] 320 222 267 449 262 443 166  25  63 214  56 316 421  55 182 352 271</a>
<a class="sourceLine" id="cb16-28" data-line-number="28">##  [35] 129 469 199 120 290  66  29  88 177  69  35 361 492 293 116 124 394</a>
<a class="sourceLine" id="cb16-29" data-line-number="29">##  [52] 239 412 463  19 282 291 229 136 171  80 276 296 494 240 154   4  82</a>
<a class="sourceLine" id="cb16-30" data-line-number="30">##  [69] 105 474 299 364  50 172  39  31 427 399 179 111 113 261 102  22 409</a>
<a class="sourceLine" id="cb16-31" data-line-number="31">##  [86] 340 400   7  75 428  21  45 297 306  30 383 321  85  95 413 243 289</a>
<a class="sourceLine" id="cb16-32" data-line-number="32">## [103] 479  54 495 441 155 455 232  43  97 478 265 269  89 335 330  44 436</a>
<a class="sourceLine" id="cb16-33" data-line-number="33">## [120] 203  62 292 158 152 459  36  99  47 417  26 390 256 458 157 460 145</a>
<a class="sourceLine" id="cb16-34" data-line-number="34">## [137] 471 132 420 273 461  33  40  68 406 464 284 498  74 367 337 197 236</a>
<a class="sourceLine" id="cb16-35" data-line-number="35">## [154] 430 466  14 442 123 189  76 270 134  53 121   1 473 106 402 278 247</a>
<a class="sourceLine" id="cb16-36" data-line-number="36">## [171] 225 250 319 143  13 346 283 216 324 433 502 419   9 254  73 118 208</a>
<a class="sourceLine" id="cb16-37" data-line-number="37">## [188] 382  37 285  15 241 176 260 366  42 450 439 287 476  72 331 192 237</a>
<a class="sourceLine" id="cb16-38" data-line-number="38">## [205] 170 206 344 363  38 300  70 397 149 422 353 224 133  49 491 379  23</a>
<a class="sourceLine" id="cb16-39" data-line-number="39">## [222] 377 127 396 301 191 506 360 286 234  48 310 167 213 497 415   2 235</a>
<a class="sourceLine" id="cb16-40" data-line-number="40">## [239] 193 205 101 341 186 452 368 210 317 161 490 135 373 384 238 209  11</a>
<a class="sourceLine" id="cb16-41" data-line-number="41">## [256] 342 219  84 148 181 504 505 249 440 356 277 465 386 345 322  32 499</a>
<a class="sourceLine" id="cb16-42" data-line-number="42">## [273] 201 263 163 423  83 348  16 280 477 307 329 215 389 374 339 142 438</a>
<a class="sourceLine" id="cb16-43" data-line-number="43">## [290] 137 259 264 347 313 468 119 175 117 258  87 444  92 325 327  71 488</a>
<a class="sourceLine" id="cb16-44" data-line-number="44">## [307] 100 457 242 156 228 486   6  18 407 309 251 365  28 244 332 165 392</a>
<a class="sourceLine" id="cb16-45" data-line-number="45">## [324] 414 404 350 110 349 108 387 354 451 220 150 315  91 467 403</a>
<a class="sourceLine" id="cb16-46" data-line-number="46">## </a>
<a class="sourceLine" id="cb16-47" data-line-number="47">## $train.inds[[3]]</a>
<a class="sourceLine" id="cb16-48" data-line-number="48">##   [1] 233 227  78 489  41 308 426 103 470 107  10  60 493 164 369  51 217</a>
<a class="sourceLine" id="cb16-49" data-line-number="49">##  [18] 362  57 226 312 207 125 431 320 222 267  67 262  12 443 166 268  25</a>
<a class="sourceLine" id="cb16-50" data-line-number="50">##  [35]  63 316 421 253 381 271 375 469 290  66 177 112 141  69  58 212 131</a>
<a class="sourceLine" id="cb16-51" data-line-number="51">##  [52] 361 116 124 394 412 358 429  19  52 169 456 291  79 171  80 276 359</a>
<a class="sourceLine" id="cb16-52" data-line-number="52">##  [69] 296 272 494 154 105 378 328 318 410  50 323 281 399 336 230 151 113</a>
<a class="sourceLine" id="cb16-53" data-line-number="53">##  [86] 261 102 481 257 409 340 400 266   7 221  75  61 428 297 393 326 140</a>
<a class="sourceLine" id="cb16-54" data-line-number="54">## [103] 383 454 321 351 122  95 413 243 479  54 223 155 478 391 265 269  89</a>
<a class="sourceLine" id="cb16-55" data-line-number="55">## [120] 147  44 178 292 158 130  20 459  36 190 401  47 338 417 496 173  26</a>
<a class="sourceLine" id="cb16-56" data-line-number="56">## [137] 376 418 157 471 132 420 273 461   8 500 406 303 464 498  74 337 430</a>
<a class="sourceLine" id="cb16-57" data-line-number="57">## [154] 466 144 408 189  76 134 402 278 225 139  65 211 250 405 435 143  96</a>
<a class="sourceLine" id="cb16-58" data-line-number="58">## [171] 126 216 183 302  93 419 294 501 196 254  73 208 424 168 285 184  15</a>
<a class="sourceLine" id="cb16-59" data-line-number="59">## [188] 241 366 462 395 194 370 450 287 476 200  72 192 206 344 300  70 503</a>
<a class="sourceLine" id="cb16-60" data-line-number="60">## [205] 397 416 224  49 491 379 298   3  77 377 301 138 506 360 174 314 159</a>
<a class="sourceLine" id="cb16-61" data-line-number="61">## [222] 167  46 187 218 193 205 101 341 484 186 245 475 452 161 135 246 485</a>
<a class="sourceLine" id="cb16-62" data-line-number="62">## [239] 274 487 472 384 209 425 342 148 453 181  90 355 114 249 440 356 311</a>
<a class="sourceLine" id="cb16-63" data-line-number="63">## [256]  64 180 322 499 201 333 385 163 423 380 275  83  98 185 432 437 288</a>
<a class="sourceLine" id="cb16-64" data-line-number="64">## [273] 371  16 280 445 162 195 307 448 215 389 374 339 438 146 434 480 109</a>
<a class="sourceLine" id="cb16-65" data-line-number="65">## [290] 115 304 264 188 313 468 119 175  27 198 128 202 372 388  87 252 398</a>
<a class="sourceLine" id="cb16-66" data-line-number="66">## [307] 327 153  24 279 255 156   6 411 204  59 309  34  86 248 104 244   5</a>
<a class="sourceLine" id="cb16-67" data-line-number="67">## [324] 392 446 483 108  81 357 387 451 150  91 305 447  17 403</a>
<a class="sourceLine" id="cb16-68" data-line-number="68">## </a>
<a class="sourceLine" id="cb16-69" data-line-number="69">## </a>
<a class="sourceLine" id="cb16-70" data-line-number="70">## $test.inds</a>
<a class="sourceLine" id="cb16-71" data-line-number="71">## $test.inds[[1]]</a>
<a class="sourceLine" id="cb16-72" data-line-number="72">##   [1]   6   7  15  16  19  25  26  36  41  44  47  49  50  51  54  63  66</a>
<a class="sourceLine" id="cb16-73" data-line-number="73">##  [18]  69  70  72  73  74  75  76  78  80  83  87  89  91  95 101 102 105</a>
<a class="sourceLine" id="cb16-74" data-line-number="74">##  [35] 107 108 113 116 119 124 125 132 134 135 143 148 150 154 155 156 157</a>
<a class="sourceLine" id="cb16-75" data-line-number="75">##  [52] 158 161 163 164 166 167 171 175 177 181 186 189 192 193 201 205 206</a>
<a class="sourceLine" id="cb16-76" data-line-number="76">##  [69] 207 208 209 215 216 217 222 224 225 233 241 243 244 249 250 254 261</a>
<a class="sourceLine" id="cb16-77" data-line-number="77">##  [86] 262 264 265 267 269 271 273 276 278 280 285 287 290 291 292 296 297</a>
<a class="sourceLine" id="cb16-78" data-line-number="78">## [103] 300 301 307 309 313 316 320 321 322 327 337 339 340 341 342 344 356</a>
<a class="sourceLine" id="cb16-79" data-line-number="79">## [120] 360 361 362 366 374 377 379 383 384 387 389 392 394 397 399 400 402</a>
<a class="sourceLine" id="cb16-80" data-line-number="80">## [137] 403 406 409 412 413 417 419 420 421 423 428 430 438 440 443 450 451</a>
<a class="sourceLine" id="cb16-81" data-line-number="81">## [154] 452 459 461 464 466 468 469 471 476 478 479 491 494 498 499 506</a>
<a class="sourceLine" id="cb16-82" data-line-number="82">## </a>
<a class="sourceLine" id="cb16-83" data-line-number="83">## $test.inds[[2]]</a>
<a class="sourceLine" id="cb16-84" data-line-number="84">##   [1]   3   5   8  10  12  17  20  24  27  34  46  52  57  58  59  60  61</a>
<a class="sourceLine" id="cb16-85" data-line-number="85">##  [18]  64  65  67  77  79  81  86  90  93  96  98 103 104 109 112 114 115</a>
<a class="sourceLine" id="cb16-86" data-line-number="86">##  [35] 122 126 128 130 131 138 139 140 141 144 146 147 151 153 159 162 168</a>
<a class="sourceLine" id="cb16-87" data-line-number="87">##  [52] 169 173 174 178 180 183 184 185 187 188 190 194 195 196 198 200 202</a>
<a class="sourceLine" id="cb16-88" data-line-number="88">##  [69] 204 211 212 218 221 223 226 227 230 245 246 248 252 253 255 257 266</a>
<a class="sourceLine" id="cb16-89" data-line-number="89">##  [86] 268 272 274 275 279 281 288 294 298 302 303 304 305 308 311 312 314</a>
<a class="sourceLine" id="cb16-90" data-line-number="90">## [103] 318 323 326 328 333 336 338 351 355 357 358 359 369 370 371 372 375</a>
<a class="sourceLine" id="cb16-91" data-line-number="91">## [120] 376 378 380 381 385 388 391 393 395 398 401 405 408 410 411 416 418</a>
<a class="sourceLine" id="cb16-92" data-line-number="92">## [137] 424 425 426 429 431 432 434 435 437 445 446 447 448 453 454 456 462</a>
<a class="sourceLine" id="cb16-93" data-line-number="93">## [154] 470 472 475 480 481 483 484 485 487 489 493 496 500 501 503</a>
<a class="sourceLine" id="cb16-94" data-line-number="94">## </a>
<a class="sourceLine" id="cb16-95" data-line-number="95">## $test.inds[[3]]</a>
<a class="sourceLine" id="cb16-96" data-line-number="96">##   [1]   1   2   4   9  11  13  14  18  21  22  23  28  29  30  31  32  33</a>
<a class="sourceLine" id="cb16-97" data-line-number="97">##  [18]  35  37  38  39  40  42  43  45  48  53  55  56  62  68  71  82  84</a>
<a class="sourceLine" id="cb16-98" data-line-number="98">##  [35]  85  88  92  94  97  99 100 106 110 111 117 118 120 121 123 127 129</a>
<a class="sourceLine" id="cb16-99" data-line-number="99">##  [52] 133 136 137 142 145 149 152 160 165 170 172 176 179 182 191 197 199</a>
<a class="sourceLine" id="cb16-100" data-line-number="100">##  [69] 203 210 213 214 219 220 228 229 231 232 234 235 236 237 238 239 240</a>
<a class="sourceLine" id="cb16-101" data-line-number="101">##  [86] 242 247 251 256 258 259 260 263 270 277 282 283 284 286 289 293 295</a>
<a class="sourceLine" id="cb16-102" data-line-number="102">## [103] 299 306 310 315 317 319 324 325 329 330 331 332 334 335 343 345 346</a>
<a class="sourceLine" id="cb16-103" data-line-number="103">## [120] 347 348 349 350 352 353 354 363 364 365 367 368 373 382 386 390 396</a>
<a class="sourceLine" id="cb16-104" data-line-number="104">## [137] 404 407 414 415 422 427 433 436 439 441 442 444 449 455 457 458 460</a>
<a class="sourceLine" id="cb16-105" data-line-number="105">## [154] 463 465 467 473 474 477 482 486 488 490 492 495 497 502 504 505</a></code></pre></div>
</div>
</div>
<div id="stratification-and-blocking" class="section level1">
<h1 class="hasAnchor">
<a href="#stratification-and-blocking" class="anchor"></a>Stratification and blocking</h1>
<ul>
<li><p><em>Stratification</em> with respect to a categorical variable makes sure that all its values are present in each training and test set in approximately the same proportion as in the original data set. Stratification is possible with regard to categorical target variables (and thus for supervised classification and survival analysis) or categorical explanatory variables.</p></li>
<li><p><em>Blocking</em> refers to the situation that subsets of observations belong together and must not be separated during resampling. Hence, for one train/test set pair the entire block is either in the training set or in the test set.</p></li>
</ul>
<div id="stratification-with-respect-to-the-target-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#stratification-with-respect-to-the-target-variables" class="anchor"></a>Stratification with respect to the target variable(s)</h2>
<p>For classification, it is usually desirable to have the same proportion of the classes in all of the partitions of the original data set. This is particularly useful in the case of imbalanced classes and small data sets. Otherwise, it may happen that observations of less frequent classes are missing in some of the training sets which can decrease the performance of the learner, or lead to model crashes. In order to conduct stratified resampling, set <code>stratify = TRUE</code> in <code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">### 3-fold cross-validation</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>, <span class="dt">stratify =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.lda"</span>, iris.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">r</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">## Resample Result</a>
<a class="sourceLine" id="cb17-7" data-line-number="7">## Task: iris-example</a>
<a class="sourceLine" id="cb17-8" data-line-number="8">## Learner: classif.lda</a>
<a class="sourceLine" id="cb17-9" data-line-number="9">## Aggr perf: mmce.test.mean=0.0133387</a>
<a class="sourceLine" id="cb17-10" data-line-number="10">## Runtime: 0.0251379</a></code></pre></div>
<p>Stratification is also available for survival tasks. Here the stratification balances the censoring rate.</p>
</div>
<div id="stratification-with-respect-to-explanatory-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#stratification-with-respect-to-explanatory-variables" class="anchor"></a>Stratification with respect to explanatory variables</h2>
<p>Sometimes it is required to also stratify on the input data, e.g., to ensure that all subgroups are represented in all training and test sets. To stratify on the input columns, specify <code>factor</code> columns of your task data via <code>stratify.cols</code>.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>, <span class="dt">stratify.cols =</span> <span class="st">"chas"</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"></a>
<a class="sourceLine" id="cb18-3" data-line-number="3">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"regr.rpart"</span>, bh.task, rdesc, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">r</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">## Resample Result</a>
<a class="sourceLine" id="cb18-6" data-line-number="6">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb18-7" data-line-number="7">## Learner: regr.rpart</a>
<a class="sourceLine" id="cb18-8" data-line-number="8">## Aggr perf: mse.test.mean=24.1926405</a>
<a class="sourceLine" id="cb18-9" data-line-number="9">## Runtime: 0.0277629</a></code></pre></div>
</div>
<div id="blocking" class="section level2">
<h2 class="hasAnchor">
<a href="#blocking" class="anchor"></a>Blocking</h2>
<p>If some observations “belong together” and must not be separated when splitting the data into training and test sets for resampling, you can supply this information via a <code>blocking</code> <code>factor</code> when creating the <a href="task.html" target="_blank">task</a>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">### 5 blocks containing 30 observations each</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">task =<span class="st"> </span><span class="kw"><a href="../reference/Task.html">makeClassifTask</a></span>(<span class="dt">data =</span> iris, <span class="dt">target =</span> <span class="st">"Species"</span>, <span class="dt">blocking =</span> <span class="kw">factor</span>(<span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">each =</span> <span class="dv">30</span>)))</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">task</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">## Supervised task: iris</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">## Type: classif</a>
<a class="sourceLine" id="cb19-6" data-line-number="6">## Target: Species</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">## Observations: 150</a>
<a class="sourceLine" id="cb19-8" data-line-number="8">## Features:</a>
<a class="sourceLine" id="cb19-9" data-line-number="9">##    numerics     factors     ordered functionals </a>
<a class="sourceLine" id="cb19-10" data-line-number="10">##           4           0           0           0 </a>
<a class="sourceLine" id="cb19-11" data-line-number="11">## Missings: FALSE</a>
<a class="sourceLine" id="cb19-12" data-line-number="12">## Has weights: FALSE</a>
<a class="sourceLine" id="cb19-13" data-line-number="13">## Has blocking: TRUE</a>
<a class="sourceLine" id="cb19-14" data-line-number="14">## Has coordinates: FALSE</a>
<a class="sourceLine" id="cb19-15" data-line-number="15">## Classes: 3</a>
<a class="sourceLine" id="cb19-16" data-line-number="16">##     setosa versicolor  virginica </a>
<a class="sourceLine" id="cb19-17" data-line-number="17">##         50         50         50 </a>
<a class="sourceLine" id="cb19-18" data-line-number="18">## Positive class: NA</a></code></pre></div>
</div>
</div>
<div id="resample-descriptions-and-resample-instances" class="section level1">
<h1 class="hasAnchor">
<a href="#resample-descriptions-and-resample-instances" class="anchor"></a>Resample descriptions and resample instances</h1>
<p>As already mentioned, you can specify a resampling strategy using function <code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">rdesc</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">## Resample description: cross-validation with 3 iterations.</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">## Predict: test</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">## Stratification: FALSE</a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="kw">str</span>(rdesc)</a>
<a class="sourceLine" id="cb20-7" data-line-number="7">## List of 4</a>
<a class="sourceLine" id="cb20-8" data-line-number="8">##  $ id      : chr "cross-validation"</a>
<a class="sourceLine" id="cb20-9" data-line-number="9">##  $ iters   : int 3</a>
<a class="sourceLine" id="cb20-10" data-line-number="10">##  $ predict : chr "test"</a>
<a class="sourceLine" id="cb20-11" data-line-number="11">##  $ stratify: logi FALSE</a>
<a class="sourceLine" id="cb20-12" data-line-number="12">##  - attr(*, "class")= chr [1:2] "CVDesc" "ResampleDesc"</a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="kw">str</span>(<span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Subsample"</span>, <span class="dt">stratify.cols =</span> <span class="st">"chas"</span>))</a>
<a class="sourceLine" id="cb20-14" data-line-number="14">## List of 6</a>
<a class="sourceLine" id="cb20-15" data-line-number="15">##  $ split        : num 0.667</a>
<a class="sourceLine" id="cb20-16" data-line-number="16">##  $ id           : chr "subsampling"</a>
<a class="sourceLine" id="cb20-17" data-line-number="17">##  $ iters        : int 30</a>
<a class="sourceLine" id="cb20-18" data-line-number="18">##  $ predict      : chr "test"</a>
<a class="sourceLine" id="cb20-19" data-line-number="19">##  $ stratify     : logi FALSE</a>
<a class="sourceLine" id="cb20-20" data-line-number="20">##  $ stratify.cols: chr "chas"</a>
<a class="sourceLine" id="cb20-21" data-line-number="21">##  - attr(*, "class")= chr [1:2] "SubsampleDesc" "ResampleDesc"</a></code></pre></div>
<p>The result <code>rdesc</code> inherits from class <code>ResampleDesc</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) (short for resample description) and, in principle, contains all necessary information about the resampling strategy including the number of iterations, the proportion of training and test sets, stratification variables, etc.</p>
<p>Given either the size of the data set at hand or the <code><a href="../reference/Task.html">Task()</a></code>, function <code><a href="../reference/makeResampleInstance.html">makeResampleInstance()</a></code> draws the training and test sets according to the <code>ResampleDesc</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">### Create a resample instance based an a task</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">rin =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleInstance.html">makeResampleInstance</a></span>(rdesc, iris.task)</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">rin</a>
<a class="sourceLine" id="cb21-4" data-line-number="4">## Resample instance for 150 cases.</a>
<a class="sourceLine" id="cb21-5" data-line-number="5">## Resample description: cross-validation with 3 iterations.</a>
<a class="sourceLine" id="cb21-6" data-line-number="6">## Predict: test</a>
<a class="sourceLine" id="cb21-7" data-line-number="7">## Stratification: FALSE</a>
<a class="sourceLine" id="cb21-8" data-line-number="8"><span class="kw">str</span>(rin)</a>
<a class="sourceLine" id="cb21-9" data-line-number="9">## List of 5</a>
<a class="sourceLine" id="cb21-10" data-line-number="10">##  $ desc      :List of 4</a>
<a class="sourceLine" id="cb21-11" data-line-number="11">##   ..$ id      : chr "cross-validation"</a>
<a class="sourceLine" id="cb21-12" data-line-number="12">##   ..$ iters   : int 3</a>
<a class="sourceLine" id="cb21-13" data-line-number="13">##   ..$ predict : chr "test"</a>
<a class="sourceLine" id="cb21-14" data-line-number="14">##   ..$ stratify: logi FALSE</a>
<a class="sourceLine" id="cb21-15" data-line-number="15">##   ..- attr(*, "class")= chr [1:2] "CVDesc" "ResampleDesc"</a>
<a class="sourceLine" id="cb21-16" data-line-number="16">##  $ size      : int 150</a>
<a class="sourceLine" id="cb21-17" data-line-number="17">##  $ train.inds:List of 3</a>
<a class="sourceLine" id="cb21-18" data-line-number="18">##   ..$ : int [1:100] 126 94 83 82 53 108 15 90 138 1 ...</a>
<a class="sourceLine" id="cb21-19" data-line-number="19">##   ..$ : int [1:100] 79 100 48 94 59 16 53 130 57 108 ...</a>
<a class="sourceLine" id="cb21-20" data-line-number="20">##   ..$ : int [1:100] 79 100 126 48 59 83 16 82 130 57 ...</a>
<a class="sourceLine" id="cb21-21" data-line-number="21">##  $ test.inds :List of 3</a>
<a class="sourceLine" id="cb21-22" data-line-number="22">##   ..$ : int [1:50] 3 4 5 9 10 11 14 16 21 23 ...</a>
<a class="sourceLine" id="cb21-23" data-line-number="23">##   ..$ : int [1:50] 6 8 18 19 27 34 36 39 40 43 ...</a>
<a class="sourceLine" id="cb21-24" data-line-number="24">##   ..$ : int [1:50] 1 2 7 12 13 15 17 20 22 26 ...</a>
<a class="sourceLine" id="cb21-25" data-line-number="25">##  $ group     : Factor w/ 0 levels: </a>
<a class="sourceLine" id="cb21-26" data-line-number="26">##  - attr(*, "class")= chr "ResampleInstance"</a>
<a class="sourceLine" id="cb21-27" data-line-number="27">### Create a resample instance given the size of the data set</a>
<a class="sourceLine" id="cb21-28" data-line-number="28">rin =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleInstance.html">makeResampleInstance</a></span>(rdesc, <span class="dt">size =</span> <span class="kw">nrow</span>(iris))</a>
<a class="sourceLine" id="cb21-29" data-line-number="29"><span class="kw">str</span>(rin)</a>
<a class="sourceLine" id="cb21-30" data-line-number="30">## List of 5</a>
<a class="sourceLine" id="cb21-31" data-line-number="31">##  $ desc      :List of 4</a>
<a class="sourceLine" id="cb21-32" data-line-number="32">##   ..$ id      : chr "cross-validation"</a>
<a class="sourceLine" id="cb21-33" data-line-number="33">##   ..$ iters   : int 3</a>
<a class="sourceLine" id="cb21-34" data-line-number="34">##   ..$ predict : chr "test"</a>
<a class="sourceLine" id="cb21-35" data-line-number="35">##   ..$ stratify: logi FALSE</a>
<a class="sourceLine" id="cb21-36" data-line-number="36">##   ..- attr(*, "class")= chr [1:2] "CVDesc" "ResampleDesc"</a>
<a class="sourceLine" id="cb21-37" data-line-number="37">##  $ size      : int 150</a>
<a class="sourceLine" id="cb21-38" data-line-number="38">##  $ train.inds:List of 3</a>
<a class="sourceLine" id="cb21-39" data-line-number="39">##   ..$ : int [1:100] 126 2 128 81 92 148 1 53 70 78 ...</a>
<a class="sourceLine" id="cb21-40" data-line-number="40">##   ..$ : int [1:100] 126 79 92 45 148 72 82 93 1 53 ...</a>
<a class="sourceLine" id="cb21-41" data-line-number="41">##   ..$ : int [1:100] 2 128 81 79 45 72 82 93 78 106 ...</a>
<a class="sourceLine" id="cb21-42" data-line-number="42">##  $ test.inds :List of 3</a>
<a class="sourceLine" id="cb21-43" data-line-number="43">##   ..$ : int [1:50] 3 7 8 17 24 25 27 29 31 37 ...</a>
<a class="sourceLine" id="cb21-44" data-line-number="44">##   ..$ : int [1:50] 2 4 5 6 9 10 11 13 14 18 ...</a>
<a class="sourceLine" id="cb21-45" data-line-number="45">##   ..$ : int [1:50] 1 12 15 16 20 22 28 32 34 40 ...</a>
<a class="sourceLine" id="cb21-46" data-line-number="46">##  $ group     : Factor w/ 0 levels: </a>
<a class="sourceLine" id="cb21-47" data-line-number="47">##  - attr(*, "class")= chr "ResampleInstance"</a>
<a class="sourceLine" id="cb21-48" data-line-number="48">### Access the indices of the training observations in iteration 3</a>
<a class="sourceLine" id="cb21-49" data-line-number="49">rin<span class="op">$</span>train.inds[[<span class="dv">3</span>]]</a>
<a class="sourceLine" id="cb21-50" data-line-number="50">##   [1]   2 128  81  79  45  72  82  93  78 106  17  51   4 115 131  38 142</a>
<a class="sourceLine" id="cb21-51" data-line-number="51">##  [18]  95 133  84  30 144 110  86  43  13 114 140 121  27  55  58  26 129</a>
<a class="sourceLine" id="cb21-52" data-line-number="52">##  [35] 147  19 139  60  35  39  57 120  11 105  29  21 136  10  14 150  88</a>
<a class="sourceLine" id="cb21-53" data-line-number="53">##  [52]  94  24  18  77 135  56  75 112 111  42 102   7  37 113   8  99 124</a>
<a class="sourceLine" id="cb21-54" data-line-number="54">##  [69]  89  48  97  33  87  85  23  80 118  25  76 132  65  36 146  96 149</a>
<a class="sourceLine" id="cb21-55" data-line-number="55">##  [86] 123 108  83  31  59 127  71   3  47   9  46  63  50   5   6</a></code></pre></div>
<p>The result <code>rin</code> inherits from class <code>ResampleInstance</code> (<code><a href="../reference/makeResampleInstance.html">makeResampleInstance()</a></code>) and contains <code>list</code>s of index vectors for the train and test sets.</p>
<p>If a <code>ResampleDesc</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) is passed to <code><a href="../reference/resample.html">resample()</a></code>, it is instantiated internally. Naturally, it is also possible to pass a <code>ResampleInstance</code> (<code><a href="../reference/makeResampleInstance.html">makeResampleInstance()</a></code>) directly.</p>
<p>While the separation between resample descriptions, resample instances, and the <code><a href="../reference/resample.html">resample()</a></code> function itself seems overly complicated, it has several advantages:</p>
<ul>
<li>Resample instances readily allow for paired experiments, that is comparing the performance of several learners on exactly the same training and test sets. This is particularly useful if you want to add another method to a comparison experiment you already did. Moreover, you can store the resample instance along with your data in order to be able to reproduce your results later on.</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">rin =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleInstance.html">makeResampleInstance</a></span>(rdesc, <span class="dt">task =</span> iris.task)</a>
<a class="sourceLine" id="cb22-3" data-line-number="3"></a>
<a class="sourceLine" id="cb22-4" data-line-number="4">### Calculate the performance of two learners based on the same resample instance</a>
<a class="sourceLine" id="cb22-5" data-line-number="5">r.lda =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.lda"</span>, iris.task, rin, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb22-6" data-line-number="6">r.rpart =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.rpart"</span>, iris.task, rin, <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb22-7" data-line-number="7">r.lda<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb22-8" data-line-number="8">## mmce.test.mean </a>
<a class="sourceLine" id="cb22-9" data-line-number="9">##     0.02666667</a>
<a class="sourceLine" id="cb22-10" data-line-number="10">r.rpart<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb22-11" data-line-number="11">## mmce.test.mean </a>
<a class="sourceLine" id="cb22-12" data-line-number="12">##     0.06666667</a></code></pre></div>
<ul>
<li>In order to add further resampling methods you can simply derive from the <code>ResampleDesc</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>) and <code>ResampleInstance</code> (<code><a href="../reference/makeResampleInstance.html">makeResampleInstance()</a></code>) classes, but you do neither have to touch <code><a href="../reference/resample.html">resample()</a></code> nor any further methods that use the resampling strategy.</li>
</ul>
<p>Usually, when calling <code><a href="../reference/makeResampleInstance.html">makeResampleInstance()</a></code> the train and test index sets are drawn randomly. Mainly for <em>holdout</em> (<em>test sample</em>) <em>estimation</em> you might want full control about the training and tests set and specify them manually. This can be done using function <code><a href="../reference/makeFixedHoldoutInstance.html">makeFixedHoldoutInstance()</a></code>.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">rin =<span class="st"> </span><span class="kw"><a href="../reference/makeFixedHoldoutInstance.html">makeFixedHoldoutInstance</a></span>(<span class="dt">train.inds =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dt">test.inds =</span> <span class="dv">101</span><span class="op">:</span><span class="dv">150</span>, <span class="dt">size =</span> <span class="dv">150</span>)</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">rin</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">## Resample instance for 150 cases.</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">## Resample description: holdout with 0.67 split rate.</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">## Predict: test</a>
<a class="sourceLine" id="cb23-6" data-line-number="6">## Stratification: FALSE</a></code></pre></div>
</div>
<div id="aggregating-performance-values" class="section level1">
<h1 class="hasAnchor">
<a href="#aggregating-performance-values" class="anchor"></a>Aggregating performance values</h1>
<p>In each resampling iteration <span class="math inline">\(b = 1,\ldots,B\)</span> we get performance values <span class="math inline">\(S(D^{*b}, D \setminus D^{*b})\)</span> (for each measure we wish to calculate), which are then aggregated to an overall performance.</p>
<p>For the great majority of common resampling strategies (like holdout, cross-validation, subsampling) performance values are calculated on the test data sets only and for most measures aggregated by taking the mean (<code>test.mean</code>(<code><a href="../reference/aggregations.html">aggregations()</a></code>)).</p>
<p>Each performance <code>Measure</code> (<code><a href="../reference/makeMeasure.html">makeMeasure()</a></code>) in <code>mlr</code> has a corresponding default aggregation method which is stored in slot <code>$aggr</code>. The default aggregation for most measures is <code>test.mean</code>(<code><a href="../reference/aggregations.html">aggregations()</a></code>). One exception is the root mean square error (<a href="measures.html" target="_blank">rmse</a>).</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">### Mean misclassification error</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">mmce<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">## Aggregation function: test.mean</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">mmce<span class="op">$</span>aggr<span class="op">$</span>fun</a>
<a class="sourceLine" id="cb24-5" data-line-number="5">## function (task, perf.test, perf.train, measure, group, pred) </a>
<a class="sourceLine" id="cb24-6" data-line-number="6">## mean(perf.test)</a>
<a class="sourceLine" id="cb24-7" data-line-number="7">## &lt;bytecode: 0xb7f9640&gt;</a>
<a class="sourceLine" id="cb24-8" data-line-number="8">## &lt;environment: namespace:mlr&gt;</a>
<a class="sourceLine" id="cb24-9" data-line-number="9">### Root mean square error</a>
<a class="sourceLine" id="cb24-10" data-line-number="10">rmse<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb24-11" data-line-number="11">## Aggregation function: test.rmse</a>
<a class="sourceLine" id="cb24-12" data-line-number="12">rmse<span class="op">$</span>aggr<span class="op">$</span>fun</a>
<a class="sourceLine" id="cb24-13" data-line-number="13">## function (task, perf.test, perf.train, measure, group, pred) </a>
<a class="sourceLine" id="cb24-14" data-line-number="14">## sqrt(mean(perf.test^2))</a>
<a class="sourceLine" id="cb24-15" data-line-number="15">## &lt;bytecode: 0x9721198&gt;</a>
<a class="sourceLine" id="cb24-16" data-line-number="16">## &lt;environment: namespace:mlr&gt;</a></code></pre></div>
<p>You can change the aggregation method of a <code>Measure</code> (<code><a href="../reference/makeMeasure.html">makeMeasure()</a></code>) via function <code><a href="../reference/setAggregation.html">setAggregation()</a></code>. All available aggregation schemes are listed on the <code><a href="../reference/aggregations.html">aggregations()</a></code> documentation page.</p>
<div id="example-one-measure-with-different-aggregations" class="section level2">
<h2 class="hasAnchor">
<a href="#example-one-measure-with-different-aggregations" class="anchor"></a>Example: One measure with different aggregations</h2>
<p>The aggregation schemes <code>test.median</code> (<code><a href="../reference/aggregations.html">aggregations()</a></code>), <code>test.min</code> (<code><a href="../reference/aggregations.html">aggregations()</a></code>), and <code>text.max</code> (<code><a href="../reference/aggregations.html">aggregations()</a></code>) compute the median, minimum, and maximum of the performance values on the test sets.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">mseTestMedian =<span class="st"> </span><span class="kw"><a href="../reference/setAggregation.html">setAggregation</a></span>(mse, test.median)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">mseTestMin =<span class="st"> </span><span class="kw"><a href="../reference/setAggregation.html">setAggregation</a></span>(mse, test.min)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">mseTestMax =<span class="st"> </span><span class="kw"><a href="../reference/setAggregation.html">setAggregation</a></span>(mse, test.max)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4"></a>
<a class="sourceLine" id="cb25-5" data-line-number="5">mseTestMedian</a>
<a class="sourceLine" id="cb25-6" data-line-number="6">## Name: Mean of squared errors</a>
<a class="sourceLine" id="cb25-7" data-line-number="7">## Performance measure: mse</a>
<a class="sourceLine" id="cb25-8" data-line-number="8">## Properties: regr,req.pred,req.truth</a>
<a class="sourceLine" id="cb25-9" data-line-number="9">## Minimize: TRUE</a>
<a class="sourceLine" id="cb25-10" data-line-number="10">## Best: 0; Worst: Inf</a>
<a class="sourceLine" id="cb25-11" data-line-number="11">## Aggregated by: test.median</a>
<a class="sourceLine" id="cb25-12" data-line-number="12">## Arguments: </a>
<a class="sourceLine" id="cb25-13" data-line-number="13">## Note: Defined as: mean((response - truth)^2)</a>
<a class="sourceLine" id="cb25-14" data-line-number="14">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb25-15" data-line-number="15">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"regr.lm"</span>, bh.task, rdesc, <span class="dt">measures =</span> <span class="kw">list</span>(mse, mseTestMedian, mseTestMin, mseTestMax))</a>
<a class="sourceLine" id="cb25-16" data-line-number="16">## Resampling: cross-validation</a>
<a class="sourceLine" id="cb25-17" data-line-number="17">## Measures:             mse       mse       mse       mse</a>
<a class="sourceLine" id="cb25-18" data-line-number="18">## [Resample] iter 1:    32.350207632.350207632.350207632.3502076</a>
<a class="sourceLine" id="cb25-19" data-line-number="19">## [Resample] iter 2:    22.698176522.698176522.698176522.6981765</a>
<a class="sourceLine" id="cb25-20" data-line-number="20">## [Resample] iter 3:    18.950076718.950076718.950076718.9500767</a>
<a class="sourceLine" id="cb25-21" data-line-number="21">## </a>
<a class="sourceLine" id="cb25-22" data-line-number="22">## Aggregated Result: mse.test.mean=24.6661536,mse.test.median=22.6981765,mse.test.min=18.9500767,mse.test.max=32.3502076</a>
<a class="sourceLine" id="cb25-23" data-line-number="23">## </a>
<a class="sourceLine" id="cb25-24" data-line-number="24">r</a>
<a class="sourceLine" id="cb25-25" data-line-number="25">## Resample Result</a>
<a class="sourceLine" id="cb25-26" data-line-number="26">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb25-27" data-line-number="27">## Learner: regr.lm</a>
<a class="sourceLine" id="cb25-28" data-line-number="28">## Aggr perf: mse.test.mean=24.6661536,mse.test.median=22.6981765,mse.test.min=18.9500767,mse.test.max=32.3502076</a>
<a class="sourceLine" id="cb25-29" data-line-number="29">## Runtime: 0.0245464</a>
<a class="sourceLine" id="cb25-30" data-line-number="30">r<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb25-31" data-line-number="31">##   mse.test.mean mse.test.median    mse.test.min    mse.test.max </a>
<a class="sourceLine" id="cb25-32" data-line-number="32">##        24.66615        22.69818        18.95008        32.35021</a></code></pre></div>
</div>
<div id="example-calculating-the-training-error" class="section level2">
<h2 class="hasAnchor">
<a href="#example-calculating-the-training-error" class="anchor"></a>Example: Calculating the training error</h2>
<p>Below we calculate the mean misclassification error (<a href="measures.html" target="_blank">mmce</a>) on the training and the test data sets. Note that we have to set <code>predict = "both"</code> when calling <code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code> in order to get predictions on both training and test sets.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">mmceTrainMean =<span class="st"> </span><span class="kw"><a href="../reference/setAggregation.html">setAggregation</a></span>(mmce, train.mean)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"CV"</span>, <span class="dt">iters =</span> <span class="dv">3</span>, <span class="dt">predict =</span> <span class="st">"both"</span>)</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.rpart"</span>, iris.task, rdesc, <span class="dt">measures =</span> <span class="kw">list</span>(mmce, mmceTrainMean))</a>
<a class="sourceLine" id="cb26-4" data-line-number="4">## Resampling: cross-validation</a>
<a class="sourceLine" id="cb26-5" data-line-number="5">## Measures:             mmce.train   mmce.test</a>
<a class="sourceLine" id="cb26-6" data-line-number="6">## [Resample] iter 1:    0.0400000    0.0400000</a>
<a class="sourceLine" id="cb26-7" data-line-number="7">## [Resample] iter 2:    0.0400000    0.0400000</a>
<a class="sourceLine" id="cb26-8" data-line-number="8">## [Resample] iter 3:    0.0200000    0.1000000</a>
<a class="sourceLine" id="cb26-9" data-line-number="9">## </a>
<a class="sourceLine" id="cb26-10" data-line-number="10">## Aggregated Result: mmce.test.mean=0.0600000,mmce.train.mean=0.0333333</a>
<a class="sourceLine" id="cb26-11" data-line-number="11">## </a>
<a class="sourceLine" id="cb26-12" data-line-number="12">r<span class="op">$</span>measures.train</a>
<a class="sourceLine" id="cb26-13" data-line-number="13">##   iter mmce mmce</a>
<a class="sourceLine" id="cb26-14" data-line-number="14">## 1    1 0.04 0.04</a>
<a class="sourceLine" id="cb26-15" data-line-number="15">## 2    2 0.04 0.04</a>
<a class="sourceLine" id="cb26-16" data-line-number="16">## 3    3 0.02 0.02</a>
<a class="sourceLine" id="cb26-17" data-line-number="17">r<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb26-18" data-line-number="18">##  mmce.test.mean mmce.train.mean </a>
<a class="sourceLine" id="cb26-19" data-line-number="19">##      0.06000000      0.03333333</a></code></pre></div>
</div>
<div id="example-bootstrap" class="section level2">
<h2 class="hasAnchor">
<a href="#example-bootstrap" class="anchor"></a>Example: Bootstrap</h2>
<p>In <em>out-of-bag bootstrap estimation</em> <span class="math inline">\(B\)</span> new data sets <span class="math inline">\(D^{*1}, \ldots, D^{*B}\)</span> are drawn from the data set <span class="math inline">\(D\)</span> with replacement, each of the same size as <span class="math inline">\(D\)</span>. In the <span class="math inline">\(b\)</span>-th iteration, <span class="math inline">\(D^{*b}\)</span> forms the training set, while the remaining elements from <span class="math inline">\(D\)</span>, i.e., <span class="math inline">\(D \setminus D^{*b}\)</span>, form the test set.</p>
<!--(
                     |resampling_desc_figure|

                     |resampling_nested_resampling_figure|
)-->
<p>The <em>b632</em> and <em>b632+</em> variants calculate a convex combination of the training performance and the out-of-bag bootstrap performance and thus require predictions on the training sets and an appropriate aggregation strategy.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">### Use bootstrap as resampling strategy and predict on both train and test sets</a>
<a class="sourceLine" id="cb27-2" data-line-number="2">rdesc =<span class="st"> </span><span class="kw"><a href="../reference/makeResampleDesc.html">makeResampleDesc</a></span>(<span class="st">"Bootstrap"</span>, <span class="dt">predict =</span> <span class="st">"both"</span>, <span class="dt">iters =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"></a>
<a class="sourceLine" id="cb27-4" data-line-number="4">### Set aggregation schemes for b632 and b632+ bootstrap</a>
<a class="sourceLine" id="cb27-5" data-line-number="5">mmceB632 =<span class="st"> </span><span class="kw"><a href="../reference/setAggregation.html">setAggregation</a></span>(mmce, b632)</a>
<a class="sourceLine" id="cb27-6" data-line-number="6">mmceB632plus =<span class="st"> </span><span class="kw"><a href="../reference/setAggregation.html">setAggregation</a></span>(mmce, b632plus)</a>
<a class="sourceLine" id="cb27-7" data-line-number="7"></a>
<a class="sourceLine" id="cb27-8" data-line-number="8">mmceB632</a>
<a class="sourceLine" id="cb27-9" data-line-number="9">## Name: Mean misclassification error</a>
<a class="sourceLine" id="cb27-10" data-line-number="10">## Performance measure: mmce</a>
<a class="sourceLine" id="cb27-11" data-line-number="11">## Properties: classif,classif.multi,req.pred,req.truth</a>
<a class="sourceLine" id="cb27-12" data-line-number="12">## Minimize: TRUE</a>
<a class="sourceLine" id="cb27-13" data-line-number="13">## Best: 0; Worst: 1</a>
<a class="sourceLine" id="cb27-14" data-line-number="14">## Aggregated by: b632</a>
<a class="sourceLine" id="cb27-15" data-line-number="15">## Arguments: </a>
<a class="sourceLine" id="cb27-16" data-line-number="16">## Note: Defined as: mean(response != truth)</a>
<a class="sourceLine" id="cb27-17" data-line-number="17">r =<span class="st"> </span><span class="kw"><a href="../reference/resample.html">resample</a></span>(<span class="st">"classif.rpart"</span>, iris.task, rdesc, <span class="dt">measures =</span> <span class="kw">list</span>(mmce, mmceB632, mmceB632plus),</a>
<a class="sourceLine" id="cb27-18" data-line-number="18">  <span class="dt">show.info =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb27-19" data-line-number="19"><span class="kw">head</span>(r<span class="op">$</span>measures.train)</a>
<a class="sourceLine" id="cb27-20" data-line-number="20">##   iter       mmce       mmce       mmce</a>
<a class="sourceLine" id="cb27-21" data-line-number="21">## 1    1 0.04666667 0.04666667 0.04666667</a>
<a class="sourceLine" id="cb27-22" data-line-number="22">## 2    2 0.02666667 0.02666667 0.02666667</a>
<a class="sourceLine" id="cb27-23" data-line-number="23">## 3    3 0.02666667 0.02666667 0.02666667</a>
<a class="sourceLine" id="cb27-24" data-line-number="24">## 4    4 0.02000000 0.02000000 0.02000000</a>
<a class="sourceLine" id="cb27-25" data-line-number="25">## 5    5 0.02666667 0.02666667 0.02666667</a>
<a class="sourceLine" id="cb27-26" data-line-number="26">## 6    6 0.02000000 0.02000000 0.02000000</a>
<a class="sourceLine" id="cb27-27" data-line-number="27">### Compare misclassification rates for out-of-bag, b632, and b632+ bootstrap</a>
<a class="sourceLine" id="cb27-28" data-line-number="28">r<span class="op">$</span>aggr</a>
<a class="sourceLine" id="cb27-29" data-line-number="29">## mmce.test.mean      mmce.b632  mmce.b632plus </a>
<a class="sourceLine" id="cb27-30" data-line-number="30">##     0.05131107     0.04395926     0.04432161</a></code></pre></div>
</div>
</div>
<div id="convenience-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#convenience-functions" class="anchor"></a>Convenience functions</h1>
<p>The functionality described on this page allows for much control and flexibility. However, when quickly trying out some learners, it can get tedious to type all the code for defining the resampling strategy, setting the aggregation scheme and so on. As mentioned above, <code>mlr</code> includes some pre-defined resample description objects for frequently used strategies like, e.g., 5-fold cross-validation (<code>cv5</code> (<code><a href="../reference/makeResampleDesc.html">makeResampleDesc()</a></code>)). Moreover, <code>mlr</code> provides special functions for the most common resampling methods, for example <code>holdout</code> (<code><a href="../reference/resample.html">resample()</a></code>), <code>crossval</code> (<code><a href="../reference/resample.html">resample()</a></code>), or <code>bootstrapB632</code> (<code><a href="../reference/resample.html">resample()</a></code>).</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="../reference/resample.html">crossval</a></span>(<span class="st">"classif.lda"</span>, iris.task, <span class="dt">iters =</span> <span class="dv">3</span>, <span class="dt">measures =</span> <span class="kw">list</span>(mmce, ber))</a>
<a class="sourceLine" id="cb28-2" data-line-number="2">## Resampling: cross-validation</a>
<a class="sourceLine" id="cb28-3" data-line-number="3">## Measures:             mmce      ber</a>
<a class="sourceLine" id="cb28-4" data-line-number="4">## [Resample] iter 1:    0.0400000 0.0393519</a>
<a class="sourceLine" id="cb28-5" data-line-number="5">## [Resample] iter 2:    0.0200000 0.0185185</a>
<a class="sourceLine" id="cb28-6" data-line-number="6">## [Resample] iter 3:    0.0000000 0.0000000</a>
<a class="sourceLine" id="cb28-7" data-line-number="7">## </a>
<a class="sourceLine" id="cb28-8" data-line-number="8">## Aggregated Result: mmce.test.mean=0.0200000,ber.test.mean=0.0192901</a>
<a class="sourceLine" id="cb28-9" data-line-number="9">## </a>
<a class="sourceLine" id="cb28-10" data-line-number="10">## Resample Result</a>
<a class="sourceLine" id="cb28-11" data-line-number="11">## Task: iris-example</a>
<a class="sourceLine" id="cb28-12" data-line-number="12">## Learner: classif.lda</a>
<a class="sourceLine" id="cb28-13" data-line-number="13">## Aggr perf: mmce.test.mean=0.0200000,ber.test.mean=0.0192901</a>
<a class="sourceLine" id="cb28-14" data-line-number="14">## Runtime: 0.0219905</a>
<a class="sourceLine" id="cb28-15" data-line-number="15"><span class="kw"><a href="../reference/resample.html">bootstrapB632plus</a></span>(<span class="st">"regr.lm"</span>, bh.task, <span class="dt">iters =</span> <span class="dv">3</span>, <span class="dt">measures =</span> <span class="kw">list</span>(mse, mae))</a>
<a class="sourceLine" id="cb28-16" data-line-number="16">## Resampling: OOB bootstrapping</a>
<a class="sourceLine" id="cb28-17" data-line-number="17">## Measures:             mse.train   mae.train   mse.test    mae.test</a>
<a class="sourceLine" id="cb28-18" data-line-number="18">## [Resample] iter 1:    24.2918238  3.3967739   21.3990200  3.4753015</a>
<a class="sourceLine" id="cb28-19" data-line-number="19">## [Resample] iter 2:    21.0611594  3.2196207   28.6619196  3.7496514</a>
<a class="sourceLine" id="cb28-20" data-line-number="20">## [Resample] iter 3:    23.2503642  3.4545165   22.1825307  3.5493843</a>
<a class="sourceLine" id="cb28-21" data-line-number="21">## </a>
<a class="sourceLine" id="cb28-22" data-line-number="22">## Aggregated Result: mse.b632plus=23.6757294,mae.b632plus=3.5089364</a>
<a class="sourceLine" id="cb28-23" data-line-number="23">## </a>
<a class="sourceLine" id="cb28-24" data-line-number="24">## Resample Result</a>
<a class="sourceLine" id="cb28-25" data-line-number="25">## Task: BostonHousing-example</a>
<a class="sourceLine" id="cb28-26" data-line-number="26">## Learner: regr.lm</a>
<a class="sourceLine" id="cb28-27" data-line-number="27">## Aggr perf: mse.b632plus=23.6757294,mae.b632plus=3.5089364</a>
<a class="sourceLine" id="cb28-28" data-line-number="28">## Runtime: 0.0416319</a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#defining-the-resampling-strategy">Defining the resampling strategy</a></li>
      <li><a href="#performing-the-resampling">Performing the resampling</a></li>
      <li>
<a href="#accessing-resample-results">Accessing resample results</a><ul class="nav nav-pills nav-stacked">
<li><a href="#predictions">Predictions</a></li>
      <li><a href="#learner-models">Learner models</a></li>
      <li><a href="#the-extract-option">The extract option</a></li>
      </ul>
</li>
      <li>
<a href="#stratification-and-blocking">Stratification and blocking</a><ul class="nav nav-pills nav-stacked">
<li><a href="#stratification-with-respect-to-the-target-variables">Stratification with respect to the target variable(s)</a></li>
      <li><a href="#stratification-with-respect-to-explanatory-variables">Stratification with respect to explanatory variables</a></li>
      <li><a href="#blocking">Blocking</a></li>
      </ul>
</li>
      <li><a href="#resample-descriptions-and-resample-instances">Resample descriptions and resample instances</a></li>
      <li>
<a href="#aggregating-performance-values">Aggregating performance values</a><ul class="nav nav-pills nav-stacked">
<li><a href="#example-one-measure-with-different-aggregations">Example: One measure with different aggregations</a></li>
      <li><a href="#example-calculating-the-training-error">Example: Calculating the training error</a></li>
      <li><a href="#example-bootstrap">Example: Bootstrap</a></li>
      </ul>
</li>
      <li><a href="#convenience-functions">Convenience functions</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><!--<div class="copyright">
  <p>Developed by Bernd Bischl, Michel Lang, Lars Kotthoff, Julia Schiffner, Jakob Richter, Zachary Jones, Giuseppe Casalicchio, Mason Gallo, Patrick Schratz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>
--></footer>
</div>

   
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script type="text/javascript"> docsearch({
 apiKey: 'e300ecafdf04fe1199e3339c825ce7d0',
 indexName: 'mlr',
 inputSelector: 'input#search-input.form-control',
 debug: false // Set debug to true if you want to inspect the dropdown
});
</script>
</body>
</html>
